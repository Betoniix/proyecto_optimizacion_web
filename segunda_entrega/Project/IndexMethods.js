window.onload=function(){loadNews()};const card_news=document.getElementById("sample"),templateCard=document.getElementById("template-card").content,fragment_news=document.createDocumentFragment();function loadNews(){document.getElementById("sample").innerHTML="";let e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&200==this.status&&deployCards(JSON.parse(this.responseText))};let t=document.getElementById("currentSort").textContent.toLowerCase();e.open("POST","http://localhost/proyecto_optimizacion_web/Project/php/by_name.php",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(`type=${t}`)}function searchWord(){document.getElementById("sample").innerHTML="";let e=document.getElementById("newsBox").value,t=new XMLHttpRequest;t.onreadystatechange=function(){4==this.readyState&&200==this.status&&deploySearch(JSON.parse(this.responseText),e)};let n=document.getElementById("currentSort").textContent.toLowerCase();t.open("POST","http://localhost/proyecto_optimizacion_web/Project/php/by_name.php",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded"),t.send(`type=${n}`)}function SortingBy(){document.getElementById("sortings").classList.toggle("show")}function byDate(){document.getElementById("currentSort").innerHTML="Date",loadNews()}function byTitle(){document.getElementById("currentSort").innerHTML="Title",loadNews()}function byDescription(){document.getElementById("currentSort").innerHTML="Description",loadNews()}function byCategory(){document.getElementById("currentSort").innerHTML="Category",loadNews()}window.onclick=function(e){if(!e.target.matches(".dropbtn")){var t,n=document.getElementsByClassName("dropdown-sort-content");for(t=0;t<n.length;t++){var r=n[t];r.classList.contains("show")&&r.classList.remove("show")}}};const deploySearch=function(e,t){for(let n of e)if(-1!==n[1].indexOf(t)){templateCard.getElementById("s-title").innerHTML=n[1],templateCard.getElementById("s-cat").innerHTML=n[6],templateCard.getElementById("s-desc").innerHTML=n[2],templateCard.querySelector("img").setAttribute("src",n[7]),templateCard.getElementById("s-url").innerHTML="URL:  "+n[4],templateCard.getElementById("s-date").innerHTML=n[3];let r=templateCard.cloneNode(!0);fragment_news.appendChild(r),console.log(n[1])}else if(-1!==n[2].indexOf(t)){templateCard.getElementById("s-title").innerHTML=n[1],templateCard.getElementById("s-cat").innerHTML=n[6],templateCard.getElementById("s-desc").innerHTML=n[2],templateCard.querySelector("img").setAttribute("src",n[7]),templateCard.getElementById("s-url").innerHTML="URL:  "+n[4],templateCard.getElementById("s-date").innerHTML=n[3];let a=templateCard.cloneNode(!0);fragment_news.appendChild(a),console.log(n[2])}else if(-1!==n[6].indexOf(t)){templateCard.getElementById("s-title").innerHTML=n[1],templateCard.getElementById("s-cat").innerHTML=n[6],templateCard.getElementById("s-desc").innerHTML=n[2],templateCard.querySelector("img").setAttribute("src",n[7]),templateCard.getElementById("s-url").innerHTML="URL:  "+n[4],templateCard.getElementById("s-date").innerHTML=n[3];let l=templateCard.cloneNode(!0);fragment_news.appendChild(l),console.log(n[6])}card_news.appendChild(fragment_news)},deployCards=function(e){for(let t of e){templateCard.getElementById("s-title").innerHTML=t[1],templateCard.getElementById("s-cat").innerHTML=t[6],templateCard.getElementById("s-desc").innerHTML=t[2],templateCard.querySelector("img").setAttribute("src",t[7]),templateCard.getElementById("s-url").innerHTML="URL:  "+t[4],templateCard.getElementById("s-date").innerHTML=t[3];let n=templateCard.cloneNode(!0);fragment_news.appendChild(n)}card_news.appendChild(fragment_news)};